{"version":3,"sources":["lib.js","index.js"],"names":["attributes","skillAttributes","name","attr","skills","map","x","skillsGovernedBy","filter","newAdvancements","advancements","forEach","skill","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","readStateFromLocalStorage","lib","setState","assign","JSON","parse","window","localStorage","getItem","setItem","stringify","saveStateToLocalStorage","_this2","advancedBy","info","react_default","a","createElement","key","className","onClick","handleClick","totalAdvancements","total","bonus","_this3","getBonusFor","renderSkill","_this4","renderAttribute","handleReset","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c24d730c.chunk.js","sourcesContent":["\nexport const attributes =\n  [ 'Strength',\n    'Intelligence',\n    'Willpower',\n    'Agility',\n    'Speed',\n    'Endurance',\n    'Personality',\n    'Luck' ]\n\nconst skillAttributes =\n  [ { name: 'Blade', attr: 'Strength' },\n    { name: 'Blunt', attr: 'Strength' },\n    { name: 'Hand-to-Hand', attr: 'Strength' },\n    { name: 'Alchemy', attr: 'Intelligence' },\n    { name: 'Mysticism', attr: 'Intelligence' },\n    { name: 'Conjuration', attr: 'Intelligence' },\n    { name: 'Alteration', attr: 'Willpower' },\n    { name: 'Destruction', attr: 'Willpower' },\n    { name: 'Restoration', attr: 'Willpower' },\n    { name: 'Marksman', attr: 'Agility' },\n    { name: 'Security', attr: 'Agility' },\n    { name: 'Sneak', attr: 'Agility' },\n    { name: 'Acrobatics', attr: 'Speed' },\n    { name: 'Athletics', attr: 'Speed' },\n    { name: 'Light Armor', attr: 'Speed' },\n    { name: 'Armorer', attr: 'Endurance' },\n    { name: 'Block', attr: 'Endurance' },\n    { name: 'Heavy Armor', attr: 'Endurance' },\n    { name: 'Mercantile', attr: 'Personality' },\n    { name: 'Speechcraft', attr: 'Personality' },\n    { name: 'Illusion', attr: 'Personality' } ]\n\nexport const skills = skillAttributes.map((x) => x.name);\n\nexport function getGoverningAttribute(skill) {\n  const x = skillAttributes.find((x) => x.name === skill);\n  return x ? x.attr : null;\n}\n\nexport function skillsGovernedBy(attr) {\n  return skillAttributes\n      .filter((x) => x.attr === attr)\n      .map((x) => x.name);\n}\n\nexport function newAdvancements() {\n  const advancements = {};\n  skills.forEach((skill) => {\n    advancements[skill] = 0;\n  });\n  return advancements;\n}\n\n/* return a new Advancements object with the given skill advanced by 1 */\nexport function advance(advancements, skill) {\n  const newAdvancements = Object.assign({}, advancements)\n  newAdvancements[skill] = advancements[skill] + 1;\n  return newAdvancements;\n}\n\nexport function bonusFromLevels(x) {\n  if (x <= 0) {\n    return 1;\n  } else if (x <= 4) {\n    return 2;\n  } else if (x <= 7) {\n    return 3;\n  } else if (x <= 9) {\n    return 4;\n  } else {\n    return 5;\n  }\n}\n\nexport function attributeBonus(advancements, attr) {\n  let totalAdvancements = 0;\n  skillsGovernedBy(attr).forEach((skill) => {\n    totalAdvancements += advancements[skill];\n  });\n  return {\n    total: totalAdvancements,\n    bonus: bonusFromLevels(totalAdvancements),\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as lib from './lib.js';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.readStateFromLocalStorage() || lib.newAdvancements();\n  }\n\n  handleClick(skill) {\n    this.setState((state, props) => lib.advance(state, skill));\n  }\n\n  handleReset() {\n    this.setState(lib.newAdvancements());\n  }\n\n  readStateFromLocalStorage() {\n    return JSON.parse(window.localStorage.getItem('advancements'));\n  }\n\n  saveStateToLocalStorage() {\n    window.localStorage.setItem('advancements', JSON.stringify(this.state));\n  }\n\n  componentDidUpdate() {\n    this.saveStateToLocalStorage();\n  }\n\n  renderSkill(skill) {\n    const advancedBy = this.state[skill];\n    const info = (advancedBy === 0) ? '0' : '+' + advancedBy;\n    return (\n      <li key={skill}>\n        <span className=\"skill-name\">{skill}</span>\n        <span className=\"skill-levels\">{info}</span>\n        <button onClick={() => this.handleClick(skill)}>Advance</button>\n      </li>\n    );\n  }\n\n  getBonusFor(attr) {\n    return lib.attributeBonus(this.state, attr);\n  }\n\n  renderAttribute(attr) {\n    const bonus = this.getBonusFor(attr);\n    if (attr === 'Luck') {\n      return;\n    } else {\n      return (\n        <li key={\"attr-\" + attr} className=\"attr\">\n          <div className=\"attr-header\">\n            <span className=\"attr-name\">{attr}</span>\n            <span className=\"attr-bonus\">+{bonus.bonus}</span>\n          </div>\n          <div className=\"attr-body\">\n            <ul className=\"skills\">\n              {lib.skillsGovernedBy(attr).map((skill) => this.renderSkill(skill))}\n            </ul>\n          </div>\n        </li>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Oblivion leveling helper</h1>\n        <ul className=\"attributes\">\n          {lib.attributes.map((attr) => this.renderAttribute(attr))}\n        </ul>\n        <div className=\"extra-controls\">\n          <button onClick={() => this.handleReset()}>Reset</button>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}